<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Floor plan</title>
</head>
<script></script>

<body>
    <button style="margin-right:5px" onclick="layerDraw('outer')">Draw Outer Layout</button>
    <button style="margin-right:5px" onclick="layerDraw('block')">Draw Block Layout</button>
    <button style="margin-right:5px" onclick="layerDraw('table')">Draw table Layout</button>
    <button style="margin-right:5px" onclick="layerDraw('resetDraw')">Reset Drawing mode</button>
    <br/>
    <button style="margin-right:5px;margin-top: 10px;" onclick="layerResize('outer')">Resize Outer Layout</button>
    <button style="margin-right:5px;margin-top: 10px;" onclick="layerResize('block')">Resize Block Layout</button>

    <h1 id="drawTitle">Drawing option...</h1>

    <canvas id="canvas" style="float:left"></canvas>
    <div style="float:left;width:50%">
        <div id="layoutArray" style="float:left"></div>
        <br/>
        <div>
            <label>X coordinate</label><input type="text" id="xCood" value="0">
            <label>Y coordinate</label><input type="text" id="yCood" value="0">
            <input type="submit" value="Submit" onclick="submitCood()">
        </div>
    </div>

    <div id="resizeForm"></div>
    <script src="floorCanvas.js">
        // var drawOuter,
        //     drawBlock,
        //     drawTable;

        // const canvas = document.getElementById("canvas");
        // const ctx = canvas.getContext("2d");

        // const WIDTH = 600;
        // const HEIGHT = 700;

        // canvas.width = WIDTH;
        // canvas.height = HEIGHT;

        // let outerLayout = [];
        // let blockLayout = [];
        // let tableLayout = [];

        // function init() {

        //     return setInterval(draw, 10);
        // }

        // function draw() { // console.log(outerLayout)
        //     ctx.clearRect(0, 0, WIDTH, HEIGHT);
        //     ctx.beginPath();
        //     for (let obj of outerLayout) {
        //         ctx.lineTo(obj.x, obj.y);

        //     }
        //     ctx.stroke();


        //     for (let obj of blockLayout) {
        //         ctx.beginPath();
        //         for (let block of obj['block']) {
        //             ctx.lineTo(block.x, block.y);
        //         }
        //         ctx.stroke();

        //     }

        //     for (let obj of tableLayout) {
        //         ctx.beginPath();
        //         for (let table of obj['table']) {
        //             ctx.lineTo(table.x, table.y);
        //         }
        //         // ctx.fill();
        //         ctx.stroke();

        //     }

        // }


        // function layerDraw(layer) {
        //     if (layer == 'outer') {
        //         drawOuter = true;
        //         drawBlock = false;
        //         drawTable = false;

        //         document.getElementById("drawTitle").innerHTML = "Draw Outer Layout";
        //         document.getElementById("layoutArray").innerHTML = JSON.stringify(outerLayout);
        //     } else if (layer == 'block') {
        //         drawOuter = false;
        //         drawBlock = true;
        //         drawTable = false;

        //         blockLayout.push({
        //             block: []
        //         });

        //         document.getElementById("drawTitle").innerHTML = "Draw Block Layout";
        //         document.getElementById("layoutArray").innerHTML = JSON.stringify(blockLayout);

        //     } else if (layer == 'table') {
        //         drawOuter = false;
        //         drawBlock = false;
        //         drawTable = true;

        //         tableLayout.push({
        //             table: []
        //         });

        //         document.getElementById("drawTitle").innerHTML = "Draw Table Layout";
        //         document.getElementById("layoutArray").innerHTML = JSON.stringify(tableLayout);

        //     } else if (layer == 'resetDraw') {
        //         drawOuter = false;
        //         drawBlock = false;
        //         drawTable = false;
        //     }
        // }

        // function submitCood() {
        //     var x = document.getElementById("xCood").value;
        //     var y = document.getElementById("yCood").value;
        //     console.log(outerLayout, drawOuter, drawBlock, drawTable)
        //     if (drawOuter) {
        //         outerLayout.push({
        //             x: x - canvas.offsetLeft,
        //             y: y - canvas.offsetTop
        //         });
        //         document.getElementById("layoutArray").innerHTML = JSON.stringify(outerLayout);

        //     } else if (drawBlock) {

        //         blockLayout[blockLayout.length - 1].block.push({
        //             x: x - canvas.offsetLeft,
        //             y: y - canvas.offsetTop
        //         });
        //         document.getElementById("layoutArray").innerHTML = JSON.stringify(blockLayout);

        //     } else if (drawTable) {
        //         tableLayout[tableLayout.length - 1].table.push({
        //             x: x - canvas.offsetLeft,
        //             y: y - canvas.offsetTop
        //         });
        //         document.getElementById("layoutArray").innerHTML = JSON.stringify(tableLayout);

        //     }
        //     console.log(outerLayout)

        // }

        // function canvasClick(e) {
        //     console.log(e.pageX, e.pageY);
        //     document.getElementById("xCood").value = e.pageX;
        //     document.getElementById("yCood").value = e.pageY;
        //     submitCood();
        // }

        // function layerResize(layer) {
        //     if (layer == 'outer') {
        //         console.log(outerLayout)

        //         let tableStructure = '<table id="tblstructure">';

        //         tableStructure += "<tr><th>X</th><th>Y</th></tr>";
        //         let index = 0;
        //         for (let obj of outerLayout) {
        //             tableStructure += `<tr><td>X:<input onchange='changeValue(event)' type='number' id='x_${index}' value='${obj.x}'/> </td><td>Y:<input onchange='changeValue(event)' type='number' id='y_${index}' value='${obj.y}'/> </td></tr>`;
        //             index++;
        //         }

        //         tableStructure += '</table>';


        //         document.getElementById("resizeForm").innerHTML = tableStructure;

        //     }
        // }


        // function changeValue($event) {
        //     let index = $event.target.id.split('_')[1];
        //     let value = $event.target.value;

        //     if ($event.target.id.split('_')[0] == 'x') {
        //         outerLayout[index].x = parseInt(value);
        //     } else {
        //         outerLayout[index].y = parseInt(value);
        //     }

        // }

        // init();

        // canvas.onclick = canvasClick
    </script>
</body>

</html>